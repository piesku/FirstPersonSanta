#include "../common/mesh.h"

struct mesh mesh_lamp(void)
{
	struct mesh mesh = {0};

#pragma warning(suppress : 4305)
	GLfloat vertex_positions[] = {
			0.12, 0, -0.12,
			0, 0, 0,
			0, 0, -0.12,
			0.12, 0, 0,
			0.012, 0.02, -0.012,
			0.052741, 0.02, -0.052741,
			0.012, 0.02, -0.108,
			0.108, 0.02, -0.012,
			0.067259, 0.02, -0.052741,
			0.067259, 0.02, -0.067259,
			0.052741, 0.02, -0.067259,
			0.108, 0.02, -0.108,
			0.069073, 0.76075, -0.050927,
			0.050927, 0.76075, -0.069073,
			0.050927, 0.76075, -0.050927,
			0.069073, 0.76075, -0.069073,
			0.12, 0, -0.12,
			0.108, 0.02, -0.012,
			0.12, 0, 0,
			0.108, 0.02, -0.108,
			0.108, 0.02, -0.012,
			0, 0, 0,
			0.12, 0, 0,
			0.012, 0.02, -0.012,
			0.050927, 0.76075, -0.069073,
			0.067259, 0.02, -0.067259,
			0.052741, 0.02, -0.067259,
			0.069073, 0.76075, -0.069073,
			0.050927, 0.76075, -0.069073,
			0.052741, 0.02, -0.052741,
			0.050927, 0.76075, -0.050927,
			0.052741, 0.02, -0.067259,
			0.069073, 0.76075, -0.050927,
			0.052741, 0.02, -0.052741,
			0.067259, 0.02, -0.052741,
			0.050927, 0.76075, -0.050927,
			0.012, 0.02, -0.108,
			0.12, 0, -0.12,
			0, 0, -0.12,
			0.108, 0.02, -0.108,
			0.067259, 0.02, -0.052741,
			0.069073, 0.76075, -0.069073,
			0.069073, 0.76075, -0.050927,
			0.067259, 0.02, -0.067259,
			0.012, 0.02, -0.012,
			0, 0, -0.12,
			0, 0, 0,
			0.012, 0.02, -0.108,
			0.098799, 0.86, -0.082401,
			0.06, 0.6815, -0.104802,
			0.098799, 0.6815, -0.082401,
			0.06, 0.86, -0.104802,
			0.021201, 0.6815, -0.082401,
			0.021201, 0.86, -0.037599,
			0.021201, 0.6815, -0.037599,
			0.021201, 0.86, -0.082401,
			0.098799, 0.86, -0.082401,
			0.098799, 0.6815, -0.037599,
			0.098799, 0.86, -0.037599,
			0.098799, 0.6815, -0.082401,
			0.06, 0.86, -0.104802,
			0.021201, 0.6815, -0.082401,
			0.06, 0.6815, -0.104802,
			0.021201, 0.86, -0.082401,
			0.06, 0.86, -0.015198,
			0.098799, 0.6815, -0.037599,
			0.06, 0.6815, -0.015198,
			0.098799, 0.86, -0.037599,
			0.021201, 0.86, -0.037599,
			0.06, 0.6815, -0.015198,
			0.021201, 0.6815, -0.037599,
			0.06, 0.86, -0.015198,
			0.06, 0.6815, -0.14778,
			0.021201, 0.6815, -0.082401,
			-0.01602, 0.6815, -0.10389,
			0.06, 0.6815, -0.104802,
			0.13602, 0.6815, -0.10389,
			0.098799, 0.6815, -0.082401,
			0.098799, 0.6815, -0.037599,
			0.021201, 0.6815, -0.037599,
			-0.01602, 0.6815, -0.01611,
			0.06, 0.6815, 0.02778,
			0.06, 0.6815, -0.015198,
			0.13602, 0.6815, -0.01611,
			0.006026, 0.86, -0.028838,
			0.021201, 0.86, -0.037599,
			0.006026, 0.86, -0.091162,
			0.06, 0.86, 0.002324,
			0.06, 0.86, -0.015198,
			0.113974, 0.86, -0.028838,
			0.098799, 0.86, -0.037599,
			0.098799, 0.86, -0.082401,
			0.021201, 0.86, -0.082401,
			0.06, 0.86, -0.122324,
			0.06, 0.86, -0.104802,
			0.113974, 0.86, -0.091162,
			0.06, 0.86, 0.002324,
			-0.01602, 0.6815, -0.01611,
			0.06, 0.6815, 0.02778,
			0.006026, 0.86, -0.028838,
			0.006026, 0.86, -0.028838,
			-0.01602, 0.6815, -0.10389,
			-0.01602, 0.6815, -0.01611,
			0.006026, 0.86, -0.091162,
			0.13602, 0.6815, -0.10389,
			0.113974, 0.86, -0.028838,
			0.13602, 0.6815, -0.01611,
			0.113974, 0.86, -0.091162,
			0.06, 0.86, -0.122324,
			0.13602, 0.6815, -0.10389,
			0.06, 0.6815, -0.14778,
			0.113974, 0.86, -0.091162,
			0.113974, 0.86, -0.028838,
			0.06, 0.6815, 0.02778,
			0.13602, 0.6815, -0.01611,
			0.06, 0.86, 0.002324,
			0.006026, 0.86, -0.091162,
			0.06, 0.6815, -0.14778,
			-0.01602, 0.6815, -0.10389,
			0.06, 0.86, -0.122324};

	glGenBuffers(1, &mesh.vertex_buffer);
	glBindBuffer(GL_ARRAY_BUFFER, mesh.vertex_buffer);
	glBufferData(GL_ARRAY_BUFFER, sizeof(vertex_positions), vertex_positions, GL_STATIC_DRAW);

#pragma warning(suppress : 4305)
	GLfloat vertex_normals[] = {
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0.8575, 0.5145, 0,
			0.8575, 0.5145, 0,
			0.8575, 0.5145, 0,
			0.8575, 0.5145, 0,
			0, 0.5145, 0.8575,
			0, 0.5145, 0.8575,
			0, 0.5145, 0.8575,
			0, 0.5145, 0.8575,
			0, -0.0024, -1,
			0, -0.0024, -1,
			0, -0.0024, -1,
			0, -0.0024, -1,
			-1, -0.0024, 0,
			-1, -0.0024, 0,
			-1, -0.0024, 0,
			-1, -0.0024, 0,
			0, -0.0024, 1,
			0, -0.0024, 1,
			0, -0.0024, 1,
			0, -0.0024, 1,
			0, 0.5145, -0.8575,
			0, 0.5145, -0.8575,
			0, 0.5145, -0.8575,
			0, 0.5145, -0.8575,
			1, -0.0024, 0,
			1, -0.0024, 0,
			1, -0.0024, 0,
			1, -0.0024, 0,
			-0.8575, 0.5145, 0,
			-0.8575, 0.5145, 0,
			-0.8575, 0.5145, 0,
			-0.8575, 0.5145, 0,
			-0.5, 0, 0.866,
			-0.5, 0, 0.866,
			-0.5, 0, 0.866,
			-0.5, 0, 0.866,
			1, 0, 0,
			1, 0, 0,
			1, 0, 0,
			1, 0, 0,
			-1, 0, 0,
			-1, 0, 0,
			-1, 0, 0,
			-1, 0, 0,
			0.5, 0, 0.866,
			0.5, 0, 0.866,
			0.5, 0, 0.866,
			0.5, 0, 0.866,
			-0.5, 0, -0.866,
			-0.5, 0, -0.866,
			-0.5, 0, -0.866,
			-0.5, 0, -0.866,
			0.5, 0, -0.866,
			0.5, 0, -0.866,
			0.5, 0, -0.866,
			0.5, 0, -0.866,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			-0.4962, 0.1226, 0.8595,
			-0.4962, 0.1226, 0.8595,
			-0.4962, 0.1226, 0.8595,
			-0.4962, 0.1226, 0.8595,
			-0.9925, 0.1226, 0,
			-0.9925, 0.1226, 0,
			-0.9925, 0.1226, 0,
			-0.9925, 0.1226, 0,
			0.9925, 0.1226, 0,
			0.9925, 0.1226, 0,
			0.9925, 0.1226, 0,
			0.9925, 0.1226, 0,
			0.4962, 0.1226, -0.8595,
			0.4962, 0.1226, -0.8595,
			0.4962, 0.1226, -0.8595,
			0.4962, 0.1226, -0.8595,
			0.4962, 0.1226, 0.8595,
			0.4962, 0.1226, 0.8595,
			0.4962, 0.1226, 0.8595,
			0.4962, 0.1226, 0.8595,
			-0.4962, 0.1226, -0.8595,
			-0.4962, 0.1226, -0.8595,
			-0.4962, 0.1226, -0.8595,
			-0.4962, 0.1226, -0.8595};
	glGenBuffers(1, &mesh.normal_buffer);
	glBindBuffer(GL_ARRAY_BUFFER, mesh.normal_buffer);
	glBufferData(GL_ARRAY_BUFFER, sizeof(vertex_normals), vertex_normals, GL_STATIC_DRAW);

#pragma warning(suppress : 4305)
	GLfloat vertex_texcoords[] = {
			-4.72441, 4.72441,
			0, 0,
			0, 4.72441,
			-4.72441, 0,
			0.472441, 0.472441,
			2.07644, 2.07644,
			0.472441, 4.25197,
			4.25197, 0.472441,
			2.64797, 2.07644,
			2.64797, 2.64797,
			2.07644, 2.64797,
			4.25197, 4.25197,
			2.71941, 2.00499,
			2.00499, 2.71941,
			2.00499, 2.00499,
			2.71941, 2.71941,
			4.72441, -2.43069,
			0.472441, -1.51243,
			0, -2.43069,
			4.25197, -1.51243,
			4.25197, 0.91826,
			0, 0,
			4.72441, 0,
			0.472441, 0.91826,
			-2.00499, 29.9574,
			-2.64797, 0.793886,
			-2.07644, 0.793886,
			-2.71941, 29.9574,
			-2.71941, 29.9458,
			-2.07644, 0.782313,
			-2.00499, 29.9458,
			-2.64797, 0.782313,
			2.71941, 29.9458,
			2.07644, 0.782313,
			2.64797, 0.782313,
			2.00499, 29.9458,
			-0.472441, -1.51243,
			-4.72441, -2.43069,
			0, -2.43069,
			-4.25197, -1.51243,
			2.07644, 0.793886,
			2.71941, 29.9574,
			2.00499, 29.9574,
			2.64797, 0.793886,
			-0.472441, 0.91826,
			-4.72441, 0,
			0, 0,
			-4.25197, 0.91826,
			1.74655, 33.8583,
			-0.017296, 26.8307,
			1.74655, 26.8307,
			-0.017296, 33.8583,
			3.24413, 26.8307,
			1.48028, 33.8583,
			1.48028, 26.8307,
			3.24413, 33.8583,
			-3.24413, 33.8583,
			-1.48028, 26.8307,
			-1.48028, 33.8583,
			-3.24413, 26.8307,
			4.10875, 33.8583,
			2.34491, 26.8307,
			4.10875, 26.8307,
			2.34491, 33.8583,
			-2.34491, 33.8583,
			-4.10875, 26.8307,
			-2.34491, 26.8307,
			-4.10875, 33.8583,
			0.017296, 33.8583,
			-1.74655, 26.8307,
			0.017296, 26.8307,
			-1.74655, 33.8583,
			-2.36221, 5.81811,
			-0.83467, 3.24413,
			0.630697, 4.09016,
			-2.36221, 4.12605,
			-5.35511, 4.09016,
			-3.88974, 3.24413,
			-3.88974, 1.48028,
			-0.83467, 1.48028,
			0.630697, 0.634252,
			-2.36221, -1.0937,
			-2.36221, 0.59836,
			-5.35511, 0.634252,
			0.237244, 1.13536,
			0.83467, 1.48028,
			0.237244, 3.58905,
			2.36221, -0.091488,
			2.36221, 0.59836,
			4.48716, 1.13536,
			3.88974, 1.48028,
			3.88974, 3.24413,
			0.83467, 3.24413,
			2.36221, 4.8159,
			2.36221, 4.12605,
			4.48716, 3.58905,
			2.09147, 33.738,
			-0.863326, 26.6571,
			2.59258, 26.6571,
			-0.36222, 33.738,
			-1.13536, 33.632,
			-4.09016, 26.5511,
			-0.634252, 26.5511,
			-3.58905, 33.632,
			4.09016, 25.972,
			1.13536, 33.0529,
			0.634252, 25.972,
			3.58905, 33.0529,
			0.36222, 32.947,
			-2.59258, 25.866,
			0.863326, 25.866,
			-2.09147, 32.947,
			4.45368, 33.4485,
			1.49888, 26.3675,
			4.95478, 26.3675,
			1.99998, 33.4485,
			-1.99998, 33.2365,
			-4.95478, 26.1556,
			-1.49888, 26.1556,
			-4.45368, 33.2365};

	glGenBuffers(1, &mesh.texcoord_buffer);
	glBindBuffer(GL_ARRAY_BUFFER, mesh.texcoord_buffer);
	glBufferData(GL_ARRAY_BUFFER, sizeof(vertex_texcoords), vertex_texcoords, GL_STATIC_DRAW);

	GLushort indices[] = {
			119, 116, 117,
			118, 117, 116,
			115, 112, 113,
			114, 113, 112,
			111, 108, 109,
			110, 109, 108,
			107, 104, 105,
			106, 105, 104,
			103, 100, 101,
			102, 101, 100,
			99, 96, 97,
			98, 97, 96,
			89, 87, 88,
			90, 89, 88,
			89, 91, 95,
			91, 89, 90,
			95, 91, 93,
			91, 94, 93,
			94, 92, 93,
			93, 92, 86,
			85, 86, 92,
			88, 87, 85,
			87, 84, 85,
			86, 85, 84,
			78, 76, 77,
			77, 76, 75,
			76, 78, 83,
			78, 82, 83,
			83, 82, 81,
			82, 79, 81,
			81, 79, 80,
			74, 80, 79,
			73, 74, 79,
			76, 72, 75,
			75, 72, 73,
			74, 73, 72,
			71, 68, 69,
			70, 69, 68,
			67, 64, 65,
			66, 65, 64,
			63, 60, 61,
			62, 61, 60,
			59, 56, 57,
			58, 57, 56,
			55, 52, 53,
			54, 53, 52,
			51, 48, 49,
			50, 49, 48,
			47, 44, 45,
			46, 45, 44,
			43, 40, 41,
			42, 41, 40,
			39, 36, 37,
			38, 37, 36,
			35, 32, 33,
			34, 33, 32,
			31, 28, 29,
			30, 29, 28,
			27, 24, 25,
			26, 25, 24,
			23, 20, 21,
			22, 21, 20,
			19, 16, 17,
			18, 17, 16,
			15, 12, 13,
			14, 13, 12,
			9, 7, 8,
			7, 9, 11,
			9, 10, 11,
			11, 10, 6,
			5, 6, 10,
			8, 7, 5,
			7, 4, 5,
			6, 5, 4,
			3, 0, 1,
			2, 1, 0};

	glGenBuffers(1, &mesh.index_buffer);
	glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, mesh.index_buffer);
	glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STATIC_DRAW);

	mesh.index_count = sizeof(indices) / sizeof(GLushort);
	return mesh;
}