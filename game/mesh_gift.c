#include "../common/mesh.h"

struct mesh mesh_gift(void)
{
	struct mesh mesh = {0};

#pragma warning(suppress : 4305)
	GLfloat vertex_positions[] = {
			-0.5, -0.5, 0.5,
			-0.5, 0.5, 0.5,
			-0.5, 0.5, -0.5,
			-0.5, -0.5, -0.5,
			-0.5, -0.5, -0.5,
			-0.5, 0.5, -0.5,
			0.5, 0.5, -0.5,
			0.5, -0.5, -0.5,
			0.5, -0.5, -0.5,
			0.5, 0.5, -0.5,
			0.5, 0.5, 0.5,
			0.5, -0.5, 0.5,
			0.5, -0.5, 0.5,
			0.5, 0.5, 0.5,
			-0.5, 0.5, 0.5,
			-0.5, -0.5, 0.5,
			-0.5, -0.5, -0.5,
			0.5, -0.5, -0.5,
			0.5, -0.5, 0.5,
			-0.5, -0.5, 0.5,
			0.5, 0.5, -0.5,
			-0.5, 0.5, -0.5,
			-0.5, 0.5, 0.5,
			0.5, 0.5, 0.5,
			-0.127764, -0.547875, 0.548422,
			-0.127764, 0.552481, 0.548422,
			-0.127764, 0.552481, -0.551934,
			-0.127764, -0.547875, -0.551934,
			-0.127764, -0.547875, -0.551934,
			-0.127764, 0.552481, -0.551934,
			0.122236, 0.552481, -0.551934,
			0.122236, -0.547875, -0.551934,
			0.122236, -0.547875, -0.551934,
			0.122236, 0.552481, -0.551934,
			0.122236, 0.552481, 0.548422,
			0.122236, -0.547875, 0.548422,
			0.122236, -0.547875, 0.548422,
			0.122236, 0.552481, 0.548422,
			-0.127764, 0.552481, 0.548422,
			-0.127764, -0.547875, 0.548422,
			-0.127764, -0.547875, -0.551934,
			0.122236, -0.547875, -0.551934,
			0.122236, -0.547875, 0.548422,
			-0.127764, -0.547875, 0.548422,
			0.122236, 0.552481, -0.551934,
			-0.127764, 0.552481, -0.551934,
			-0.127764, 0.552481, 0.548422,
			0.122236, 0.552481, 0.548422,
			-0.552942, -0.547875, -0.126756,
			-0.552942, 0.552481, -0.126756,
			0.547415, 0.552481, -0.126756,
			0.547415, -0.547875, -0.126756,
			0.547415, -0.547875, -0.126756,
			0.547415, 0.552481, -0.126756,
			0.547415, 0.552481, 0.123244,
			0.547415, -0.547875, 0.123244,
			0.547415, -0.547875, 0.123244,
			0.547415, 0.552481, 0.123244,
			-0.552942, 0.552481, 0.123244,
			-0.552942, -0.547875, 0.123244,
			-0.552942, -0.547875, 0.123244,
			-0.552942, 0.552481, 0.123244,
			-0.552942, 0.552481, -0.126756,
			-0.552942, -0.547875, -0.126756,
			0.547415, -0.547875, -0.126756,
			0.547415, -0.547875, 0.123244,
			-0.552942, -0.547875, 0.123244,
			-0.552942, -0.547875, -0.126756,
			0.547415, 0.552481, 0.123244,
			0.547415, 0.552481, -0.126756,
			-0.552942, 0.552481, -0.126756,
			-0.552942, 0.552481, 0.123244,
			0.1, 0.5, 0,
			0.1, 0.7, 0,
			0.1, 0.7, -0.2,
			0.1, 0.5, -0.2,
			0.1, 0.5, -0.2,
			0.1, 0.7, -0.2,
			0.3, 0.7, -0.2,
			0.3, 0.5, -0.2,
			0.3, 0.5, -0.2,
			0.3, 0.7, -0.2,
			0.3, 0.7, 0,
			0.3, 0.5, 0,
			0.3, 0.5, 0,
			0.3, 0.7, 0,
			0.1, 0.7, 0,
			0.1, 0.5, 0,
			0.1, 0.5, -0.2,
			0.3, 0.5, -0.2,
			0.3, 0.5, 0,
			0.1, 0.5, 0,
			0.3, 0.7, -0.2,
			0.1, 0.7, -0.2,
			0.1, 0.7, 0,
			0.3, 0.7, 0};

	glGenBuffers(1, &mesh.vertex_buffer);
	glBindBuffer(GL_ARRAY_BUFFER, mesh.vertex_buffer);
	glBufferData(GL_ARRAY_BUFFER, sizeof(vertex_positions), vertex_positions, GL_STATIC_DRAW);

#pragma warning(suppress : 4305)
	GLfloat vertex_normals[] = {
			-1, 0, 0,
			-1, 0, 0,
			-1, 0, 0,
			-1, 0, 0,
			0, 0, -1,
			0, 0, -1,
			0, 0, -1,
			0, 0, -1,
			1, 0, 0,
			1, 0, 0,
			1, 0, 0,
			1, 0, 0,
			0, 0, 1,
			0, 0, 1,
			0, 0, 1,
			0, 0, 1,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			-1, 0, 0,
			-1, 0, 0,
			-1, 0, 0,
			-1, 0, 0,
			0, 0, -1,
			0, 0, -1,
			0, 0, -1,
			0, 0, -1,
			1, 0, 0,
			1, 0, 0,
			1, 0, 0,
			1, 0, 0,
			0, 0, 1,
			0, 0, 1,
			0, 0, 1,
			0, 0, 1,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 0, -1,
			0, 0, -1,
			0, 0, -1,
			0, 0, -1,
			1, 0, 0,
			1, 0, 0,
			1, 0, 0,
			1, 0, 0,
			0, 0, 1,
			0, 0, 1,
			0, 0, 1,
			0, 0, 1,
			-1, 0, 0,
			-1, 0, 0,
			-1, 0, 0,
			-1, 0, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			-1, 0, 0,
			-1, 0, 0,
			-1, 0, 0,
			-1, 0, 0,
			0, 0, -1,
			0, 0, -1,
			0, 0, -1,
			0, 0, -1,
			1, 0, 0,
			1, 0, 0,
			1, 0, 0,
			1, 0, 0,
			0, 0, 1,
			0, 0, 1,
			0, 0, 1,
			0, 0, 1,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, -1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0,
			0, 1, 0};

	glGenBuffers(1, &mesh.normal_buffer);
	glBindBuffer(GL_ARRAY_BUFFER, mesh.normal_buffer);
	glBufferData(GL_ARRAY_BUFFER, sizeof(vertex_normals), vertex_normals, GL_STATIC_DRAW);

#pragma warning(suppress : 4305)
	GLfloat vertex_texcoords[] = {
			0.375, 0,
			0.625, 0,
			0.625, 0.25,
			0.375, 0.25,
			0.375, 0.25,
			0.625, 0.25,
			0.625, 0.5,
			0.375, 0.5,
			0.375, 0.5,
			0.625, 0.5,
			0.625, 0.75,
			0.375, 0.75,
			0.375, 0.75,
			0.625, 0.75,
			0.625, 1,
			0.375, 1,
			0.125, 0.5,
			0.375, 0.5,
			0.375, 0.75,
			0.125, 0.75,
			0.625, 0.5,
			0.875, 0.5,
			0.875, 0.75,
			0.625, 0.75,
			0.375, 0,
			0.625, 0,
			0.625, 0.25,
			0.375, 0.25,
			0.375, 0.25,
			0.625, 0.25,
			0.625, 0.5,
			0.375, 0.5,
			0.375, 0.5,
			0.625, 0.5,
			0.625, 0.75,
			0.375, 0.75,
			0.375, 0.75,
			0.625, 0.75,
			0.625, 1,
			0.375, 1,
			0.125, 0.5,
			0.375, 0.5,
			0.375, 0.75,
			0.125, 0.75,
			0.625, 0.5,
			0.875, 0.5,
			0.875, 0.75,
			0.625, 0.75,
			0.375, 0,
			0.625, 0,
			0.625, 0.25,
			0.375, 0.25,
			0.375, 0.25,
			0.625, 0.25,
			0.625, 0.5,
			0.375, 0.5,
			0.375, 0.5,
			0.625, 0.5,
			0.625, 0.75,
			0.375, 0.75,
			0.375, 0.75,
			0.625, 0.75,
			0.625, 1,
			0.375, 1,
			0.125, 0.5,
			0.375, 0.5,
			0.375, 0.75,
			0.125, 0.75,
			0.625, 0.5,
			0.875, 0.5,
			0.875, 0.75,
			0.625, 0.75,
			0.375, 0,
			0.625, 0,
			0.625, 0.25,
			0.375, 0.25,
			0.375, 0.25,
			0.625, 0.25,
			0.625, 0.5,
			0.375, 0.5,
			0.375, 0.5,
			0.625, 0.5,
			0.625, 0.75,
			0.375, 0.75,
			0.375, 0.75,
			0.625, 0.75,
			0.625, 1,
			0.375, 1,
			0.125, 0.5,
			0.375, 0.5,
			0.375, 0.75,
			0.125, 0.75,
			0.625, 0.5,
			0.875, 0.5,
			0.875, 0.75,
			0.625, 0.75};

	glGenBuffers(1, &mesh.texcoord_buffer);
	glBindBuffer(GL_ARRAY_BUFFER, mesh.texcoord_buffer);
	glBufferData(GL_ARRAY_BUFFER, sizeof(vertex_texcoords), vertex_texcoords, GL_STATIC_DRAW);

	GLushort indices[] = {
			95, 94, 92,
			94, 93, 92,
			91, 90, 88,
			90, 89, 88,
			87, 86, 84,
			86, 85, 84,
			83, 82, 80,
			82, 81, 80,
			79, 78, 76,
			78, 77, 76,
			75, 74, 72,
			74, 73, 72,
			71, 70, 68,
			70, 69, 68,
			67, 66, 64,
			66, 65, 64,
			63, 62, 60,
			62, 61, 60,
			59, 58, 56,
			58, 57, 56,
			55, 54, 52,
			54, 53, 52,
			51, 50, 48,
			50, 49, 48,
			47, 46, 44,
			46, 45, 44,
			43, 42, 40,
			42, 41, 40,
			39, 38, 36,
			38, 37, 36,
			35, 34, 32,
			34, 33, 32,
			31, 30, 28,
			30, 29, 28,
			27, 26, 24,
			26, 25, 24,
			23, 22, 20,
			22, 21, 20,
			19, 18, 16,
			18, 17, 16,
			15, 14, 12,
			14, 13, 12,
			11, 10, 8,
			10, 9, 8,
			7, 6, 4,
			6, 5, 4,
			3, 2, 0,
			2, 1, 0};

	glGenBuffers(1, &mesh.index_buffer);
	glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, mesh.index_buffer);
	glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STATIC_DRAW);

	mesh.index_count = sizeof(indices) / sizeof(GLushort);
	return mesh;
}
